{{ define "main" }}

<!-- 1. Hero Section (Destaque Principal) -->
{{ partial "hero.html" . }}

<!-- 2. Se√ß√£o de Introdu√ß√£o e Miss√£o -->
<section class="section-full section-full--sober">
    <div class="container relative z-10">
        <!-- T√≠tulo Principal da Miss√£o -->
        <div class="text-center mb-xl animate-fadeInUp">
            <h2 class="text-4xl font-extrabold mb-4"
                style="color: #C3B173; font-family: 'Times New Roman', serif; letter-spacing: 0.05em;">
                Fundamentos da Vera Cruz
            </h2>
            <p class="text-xl max-w-3xl mx-auto" style="color: #a8a29e; font-style: italic;">
                Dedicamo-nos ao rigor intelectual, √† pesquisa hist√≥rica e √† defesa dos pilares da sociedade livre.
            </p>
        </div>

        <!-- Renderiza o conte√∫do principal -->
        {{ if .Content }}
        <div class="prose mx-auto max-w-4xl mb-lg animate-fadeInUp" style="color: #d6d3d1;">
            {{ .Content }}
        </div>
        {{ end }}

        <!-- Chamadas para A√ß√£o -->
        <div class="hero__cta" style="justify-content: center; margin-top: 1rem; align-items: center;">
            <a href="/artigos/" class="btn btn--primary btn--large"> <!-- Removed inline border style -->
                Explorar Artigos
            </a>
            <a href="/producoes/" class="btn btn--outline btn--large"> <!-- Removed inline border style -->
                Ver Nossas Produ√ß√µes
            </a>
        </div>
    </div>
</section>

<!-- 3. √öltimas Publica√ß√µes -->
<section class="section-full section-full--dark">
    <div class="container">
        <div class="text-center mb-xl">
            <h2
                style="color: #C3B173; font-size: 2.5rem; font-weight: 800; margin-bottom: 0.5rem; font-family: 'Times New Roman', serif;">
                √öltimas Publica√ß√µes
            </h2>
            <p style="color: #78716c; font-size: 1.125rem;">
                Confira nossos artigos mais recentes
            </p>
        </div>

        <!-- Lista os 3 Artigos mais recentes -->
        <div class="grid grid--3-cols">
            {{ range first 3 (where .Site.RegularPages "Section" "artigos") }}
            <article class="card animate-fadeInUp card--dark">
                <div style="margin-bottom: 1rem;">
                    <span
                        style="display: inline-block; padding: 0.25rem 0.75rem; background: rgba(195, 177, 115, 0.1); color: #C3B173; border-radius: 2px; font-size: 0.75rem; font-weight: 600; letter-spacing: 1px;">
                        ARTIGO
                    </span>
                </div>

                <h3 class="card__title">
                    <a href="{{ .Permalink }}" style="text-decoration: none; font-family: 'Times New Roman', serif;">
                        {{ .Title }}
                    </a>
                </h3>

                <p style="color: #a8a29e; font-size: 0.875rem; margin-bottom: 1rem; font-weight: 600;">
                    {{ .Date.Format "02 de Janeiro, 2006" }}
                </p>

                <p class="card__text">
                    {{ .Summary | plainify | truncate 150 "..." }}
                </p>

                <a href="{{ .Permalink }}" class="btn btn--outline btn--small"
                    style="margin-top: 1rem; color: #C3B173; border-color: #57534e;">
                    Leia Mais ‚Üí
                </a>
            </article>
            {{ else }}
            <div
                style="grid-column: 1 / -1; text-align: center; padding: 3rem; background: #292524; border: 1px dashed #444;">
                <p style="color: #a8a29e; font-size: 1.125rem;">
                    Nenhum artigo publicado ainda. Crie seu primeiro arquivo em <code
                        style="background: #1c1917; padding: 0.25rem 0.5rem; border-radius: 4px; color: #C3B173;">content/artigos/</code>
                </p>
            </div>
            {{ end }}
        </div>

        {{ if ge (len (where .Site.RegularPages "Section" "artigos")) 3 }}
        <div class="text-center mt-xl">
            <a href="/artigos/" class="btn btn--primary" style="background: #8C1C1C; border: none;">
                Ver Todos os Artigos
            </a>
        </div>
        {{ end }}
    </div>
</section>

<!-- 4. Se√ß√£o de Destaque de Membros -->
<section class="members-section section-full section-full--sober">
    <div class="container">
        <div class="members-section__header text-center mb-xl">
            <h2 style="color: #C3B173; font-family: 'Times New Roman', serif;">Membros Not√°veis em Destaque</h2>
            <p style="color: #78716c;">Conhe√ßa os membros que comp√µem a Sociedade de Vera Cruz</p>
        </div>

        <!-- Renderiza membros do JSON -->
        <div class="members-section__grid">
            {{ $membrosData := .Site.Data.membros }}

            {{ if $membrosData }}
            {{ if $membrosData.reitores_e_colaboradores }}
            <!-- Estrutura com reitores_e_colaboradores -->
            {{ range first 4 $membrosData.reitores_e_colaboradores }}
            {{ partial "components/member_card.html" . }}
            {{ end }}
            {{ else if reflect.IsSlice $membrosData }}
            <!-- Array direto de membros -->
            {{ range first 4 $membrosData }}
            {{ partial "components/member_card.html" . }}
            {{ end }}
            {{ end }}
            {{ else }}
            <div
                style="grid-column: 1 / -1; text-align: center; padding: 3rem; background: #292524; border: 1px dashed #444;">
                <p style="color: #a8a29e; font-size: 1.125rem;">
                    üë• Nenhum membro cadastrado ainda.
                </p>
            </div>
            {{ end }}
        </div>

        <div class="text-center mt-xl">
            <a href="/membros/" class="btn btn--secondary btn--large"
                style="color: #C3B173; border: 1px solid #C3B173; background: transparent;">
                Ver Todos os Membros ‚Üí
            </a>
        </div>
    </div>
</section>

<!-- 5. Se√ß√£o de Destaque com Recursos -->
<!-- 5. Se√ß√£o de Destaque com Recursos -->
<section class="section-full section-full--dark"> <!-- Removed gradient override for consistency -->
    <div class="container relative z-10">
        <div class="grid grid--2-cols" style="align-items: center; gap: 3rem;">
            <!-- Coluna de Texto -->
            <div style="color: #d6d3d1;" class="animate-fadeInUp">
                <h2
                    style="color: #C3B173; font-family: 'Times New Roman', serif; font-size: 2.5rem; margin-bottom: 1.5rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">
                    üéØ Promo√ß√£o de Conhecimento
                </h2>
                <p style="font-size: 1.125rem; line-height: 1.8; margin-bottom: 2rem; opacity: 0.9;">
                    Nossa miss√£o √© promover o estudo rigoroso da filosofia, hist√≥ria, economia e cultura atrav√©s de
                    artigos, produ√ß√µes acad√™micas e a forma√ß√£o de uma comunidade dedicada ao conhecimento cl√°ssico.
                    Trabalhamos continuamente para expandir o acesso a obras fundamentais e ao pensamento profundo.
                </p>
                <a href="/sobre" class="btn btn--outline btn--large">
                    Conhe√ßa Nossa Hist√≥ria
                </a>
            </div>

            <!-- Coluna de Card -->
            <div class="animate-fadeInUp" style="animation-delay: 0.2s;">
                <div class="card card--glass"
                    style="padding: 2rem; backdrop-filter: blur(10px); background: rgba(0,0,0,0.2);">
                    <!-- Lightened glass -->
                    <h3
                        style="color: #C3B173; margin-bottom: 1.5rem; font-size: 1.5rem; font-family: 'Times New Roman', serif;">
                        Recursos Dispon√≠veis
                    </h3>
                    <ul style="list-style: none; padding: 0;">
                        <li
                            style="margin-bottom: 1rem; padding-left: 2rem; position: relative; font-size: 1rem; color: #d6d3d1;">
                            <span
                                style="position: absolute; left: 0; color: #8C1C1C; font-weight: bold; font-size: 1.25rem;">‚úì</span>
                            Artigos t√©cnicos e tutoriais
                        </li>
                        <li
                            style="margin-bottom: 1rem; padding-left: 2rem; position: relative; font-size: 1rem; color: #d6d3d1;">
                            <span
                                style="position: absolute; left: 0; color: #8C1C1C; font-weight: bold; font-size: 1.25rem;">‚úì</span>
                            Produ√ß√µes e projetos
                        </li>
                        <li
                            style="margin-bottom: 1rem; padding-left: 2rem; position: relative; font-size: 1rem; color: #d6d3d1;">
                            <span
                                style="position: absolute; left: 0; color: #8C1C1C; font-weight: bold; font-size: 1.25rem;">‚úì</span>
                            Documenta√ß√£o completa
                        </li>
                    </ul>
                    <a href="/documentos" class="btn btn--primary btn--small" style="margin-top: 1.5rem; width: 100%;">
                        Explorar Documenta√ß√£o
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 6. Call to Action Final -->
<section class="section-full section-full--sober">
    <div class="container">
        <div class="text-center animate-fadeInUp">
            <h2
                style="font-size: 2.5rem; color: #C3B173; margin-bottom: 1rem; font-weight: 800; font-family: 'Times New Roman', serif;">
                Junte-se √† Sociedade
            </h2>
            <p style="font-size: 1.25rem; color: #a8a29e; max-width: 600px; margin: 0 auto 2rem;">
                Fa√ßa parte de uma comunidade dedicada ao conhecimento e √† excel√™ncia
            </p>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <a href="/sobre" class="btn btn--primary btn--large" style="background: #8C1C1C; border: none;">
                    Saiba Mais Sobre N√≥s
                </a>
                <a href="/membros" class="btn btn--outline btn--large" style="color: #C3B173; border-color: #C3B173;">
                    Conhe√ßa os Membros
                </a>
            </div>
        </div>
    </div>
</section>

{{ end }}