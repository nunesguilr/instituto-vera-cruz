{{ define "main" }}

<!-- 1. Hero Section (Destaque Principal) -->
{{ partial "hero.html" . }}

<!-- 2. Se√ß√£o de Introdu√ß√£o e Miss√£o -->
<section class="py-16 bg-white">
    <div class="container">
        <!-- T√≠tulo Principal da Miss√£o -->
        <div class="text-center mb-xl animate-fadeInUp">
            <h2 class="text-4xl font-extrabold mb-4 text-[#0D3E62]">
                Fundamentos da Vera Cruz
            </h2>
            <p class="text-xl text-gray-500 max-w-3xl mx-auto">
                Dedicamo-nos ao rigor intelectual, √† pesquisa hist√≥rica e √† defesa dos pilares da sociedade livre.
            </p>
        </div>

        <!-- Renderiza o conte√∫do principal -->
        {{ if .Content }}
        <div class="prose mx-auto max-w-4xl text-gray-700 mb-lg animate-fadeInUp">
            {{ .Content }}
        </div>
        {{ end }}

        <!-- Chamadas para A√ß√£o -->
        <div class="hero__cta" style="justify-content: center; margin-top: 3rem;">
            <a href="/artigos/" class="btn btn--primary btn--large">
                üìö Explorar Artigos
            </a>
            <a href="/estudos/" class="btn btn--outline btn--large">
                üéì Ver Estudos Aprofundados
            </a>
        </div>
    </div>
</section>

<!-- 3. √öltimas Publica√ß√µes -->
<section class="py-16" style="background: linear-gradient(180deg, #F9F9F9 0%, #ffffff 100%);">
    <div class="container">
        <div class="text-center mb-xl">
            <h2 style="background: linear-gradient(135deg, #0D3E62 0%, #1a5a8a 100%); 
                       -webkit-background-clip: text; 
                       -webkit-text-fill-color: transparent; 
                       background-clip: text;
                       font-size: 2.5rem;
                       font-weight: 800;
                       margin-bottom: 0.5rem;">
                √öltimas Publica√ß√µes
            </h2>
            <p style="color: #666; font-size: 1.125rem;">
                Confira nossos artigos mais recentes
            </p>
        </div>

        <!-- Lista os 3 Artigos mais recentes -->
        <div class="grid grid--3-cols">
            {{ range first 3 (where .Site.RegularPages "Section" "artigos") }}
            <article class="card animate-fadeInUp">
                <div style="margin-bottom: 1rem;">
                    <span style="display: inline-block; 
                                 padding: 0.25rem 0.75rem; 
                                 background: rgba(195, 177, 115, 0.1); 
                                 color: #C3B173; 
                                 border-radius: 50px; 
                                 font-size: 0.75rem; 
                                 font-weight: 600;">
                        üìÑ ARTIGO
                    </span>
                </div>
                
                <h3 class="card__title">
                    <a href="{{ .Permalink }}" style="text-decoration: none; color: inherit;">
                        {{ .Title }}
                    </a>
                </h3>
                
                <p style="color: #C3B173; font-size: 0.875rem; margin-bottom: 1rem; font-weight: 600;">
                    üìÖ {{ .Date.Format "02 de Janeiro, 2006" }}
                </p>
                
                <p class="card__text">
                    {{ .Summary | plainify | truncate 150 "..." }}
                </p>
                
                <a href="{{ .Permalink }}" class="btn btn--outline btn--small" style="margin-top: 1rem;">
                    Leia Mais ‚Üí
                </a>
            </article>
            {{ else }}
            <div style="grid-column: 1 / -1; text-align: center; padding: 3rem;">
                <p style="color: #666; font-size: 1.125rem;">
                    üìù Nenhum artigo publicado ainda. Crie seu primeiro arquivo em <code style="background: #f5f5f5; padding: 0.25rem 0.5rem; border-radius: 4px;">content/artigos/</code>
                </p>
            </div>
            {{ end }}
        </div>

        {{ if ge (len (where .Site.RegularPages "Section" "artigos")) 3 }}
        <div class="text-center mt-xl">
            <a href="/artigos/" class="btn btn--primary">
                Ver Todos os Artigos
            </a>
        </div>
        {{ end }}
    </div>
</section>

<!-- 4. Se√ß√£o de Destaque de Membros -->
<section class="members-section">
    <div class="container">
        <div class="members-section__header">
            <h2>Membros Not√°veis em Destaque</h2>
            <p>Conhe√ßa os membros que comp√µem a Sociedade de Vera Cruz</p>
        </div>

        <!-- Renderiza membros do JSON -->
        <div class="members-section__grid">
            {{ $membrosData := .Site.Data.membros }}
            
            {{ if $membrosData }}
                {{ if $membrosData.reitores_e_colaboradores }}
                    <!-- Estrutura com reitores_e_colaboradores -->
                    {{ range first 3 $membrosData.reitores_e_colaboradores }}
                        {{ partial "components/member_card.html" . }}
                    {{ end }}
                {{ else }}
                    <!-- Array direto de membros -->
                    {{ range first 3 $membrosData }}
                        {{ partial "components/member_card.html" . }}
                    {{ end }}
                {{ end }}
            {{ else }}
                <div style="grid-column: 1 / -1; text-align: center; padding: 3rem;">
                    <p style="color: #666; font-size: 1.125rem;">
                        üë• Nenhum membro cadastrado ainda.
                    </p>
                </div>
            {{ end }}
        </div>

        <div class="text-center mt-xl">
            <a href="/membros/" class="btn btn--secondary btn--large">
                Ver Todos os Membros ‚Üí
            </a>
        </div>
    </div>
</section>

<!-- 5. Se√ß√£o de Destaque com Recursos -->
<section style="padding: 4rem 0; background: linear-gradient(135deg, #0D3E62 0%, #C3B173 100%); position: relative; overflow: hidden;">
    <!-- Efeito de ondas de fundo -->
    <div style="position: absolute; bottom: 0; left: 0; width: 100%; height: 100%; 
                background: url('data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 1440 320%22><path fill=%22%23ffffff%22 fill-opacity=%220.1%22 d=%22M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,138.7C960,139,1056,117,1152,106.7C1248,96,1344,96,1392,96L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z%22></path></svg>') no-repeat bottom;
                background-size: cover;
                opacity: 0.5;"></div>
    
    <div class="container" style="position: relative; z-index: 1;">
        <div class="grid grid--2-cols" style="align-items: center; gap: 3rem;">
            <!-- Coluna de Texto -->
            <div style="color: white;" class="animate-fadeInUp">
                <h2 style="color: white; font-size: 2.5rem; margin-bottom: 1.5rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.2);">
                    üéØ Promo√ß√£o de Conhecimento
                </h2>
                <p style="font-size: 1.125rem; line-height: 1.8; margin-bottom: 2rem; opacity: 0.95;">
                    Nossa miss√£o √© promover artigos, estudos e membros not√°veis na √°rea de Go e desenvolvimento de software. 
                    Trabalhamos continuamente para expandir o conhecimento e a comunidade.
                </p>
                <a href="/sobre" class="btn btn--secondary btn--large">
                    Conhe√ßa Nossa Hist√≥ria
                </a>
            </div>

            <!-- Coluna de Card -->
            <div class="animate-fadeInUp" style="animation-delay: 0.2s;">
                <div class="card card--glass" style="padding: 2rem; backdrop-filter: blur(10px);">
                    <h3 style="color: #0D3E62; margin-bottom: 1.5rem; font-size: 1.5rem;">
                        üìö Recursos Dispon√≠veis
                    </h3>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 1rem; padding-left: 2rem; position: relative; font-size: 1rem;">
                            <span style="position: absolute; left: 0; color: #C3B173; font-weight: bold; font-size: 1.25rem;">‚úì</span>
                            Artigos t√©cnicos e tutoriais detalhados
                        </li>
                        <li style="margin-bottom: 1rem; padding-left: 2rem; position: relative; font-size: 1rem;">
                            <span style="position: absolute; left: 0; color: #C3B173; font-weight: bold; font-size: 1.25rem;">‚úì</span>
                            Estudos aprofundados e an√°lises cr√≠ticas
                        </li>
                        <li style="margin-bottom: 1rem; padding-left: 2rem; position: relative; font-size: 1rem;">
                            <span style="position: absolute; left: 0; color: #C3B173; font-weight: bold; font-size: 1.25rem;">‚úì</span>
                            Documenta√ß√£o completa e atualizada
                        </li>
                        <li style="margin-bottom: 1rem; padding-left: 2rem; position: relative; font-size: 1rem;">
                            <span style="position: absolute; left: 0; color: #C3B173; font-weight: bold; font-size: 1.25rem;">‚úì</span>
                            Comunidade ativa e colaborativa
                        </li>
                    </ul>
                    <a href="/documentos" class="btn btn--primary btn--small" style="margin-top: 1.5rem; width: 100%;">
                        Explorar Documenta√ß√£o
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 6. Call to Action Final -->
<section class="py-16 bg-white">
    <div class="container">
        <div class="text-center animate-fadeInUp">
            <h2 style="font-size: 2.5rem; color: #0D3E62; margin-bottom: 1rem; font-weight: 800;">
                Junte-se √† Sociedade
            </h2>
            <p style="font-size: 1.25rem; color: #666; max-width: 600px; margin: 0 auto 2rem;">
                Fa√ßa parte de uma comunidade dedicada ao conhecimento e √† excel√™ncia
            </p>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <a href="/sobre" class="btn btn--primary btn--large">
                    Saiba Mais Sobre N√≥s
                </a>
                <a href="/membros" class="btn btn--outline btn--large">
                    Conhe√ßa os Membros
                </a>
            </div>
        </div>
    </div>
</section>

{{ end }}