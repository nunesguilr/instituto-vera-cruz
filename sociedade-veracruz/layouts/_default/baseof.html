<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{{ .Title }} | {{ .Site.Title }}</title>

    <!-- Link para a Fonte Inter -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap">

    <!-- Carrega Tailwind CDN para classes -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Pipeline do Hugo: Compila SCSS, Minifica e Faz Fingerprint (CORRIGIDO) -->
    {{- $style := resources.Get "scss/main.scss" }}
    {{- $options := (dict "targetPath" "css/style.css" "enableSourceMap" false) }}

    {{- with $style }}
    {{- $style = . | toCSS $options }}
    {{- $style = $style | minify | fingerprint }}
    <link rel="stylesheet" href="{{ $style.Permalink }}" integrity="{{ $style.Data.Integrity }}" media="screen">
    {{- else }}
    <!-- MENSAGEM DE ERRO VISÍVEL: Se o SCSS não for encontrado -->
    <style>
        body::before {
            content: "ERRO DE COMPILAÇÃO: Arquivo SCSS (assets/scss/main.scss) não encontrado ou falhou ao compilar.";
            color: red;
            display: block;
            padding: 10px;
            font-weight: bold;
        }
    </style>
    {{- end }}
</head>

<body class="min-h-screen flex flex-col">
    <!-- Chama o Partial de Cabeçalho -->
    {{ partial "header.html" . }}

    <main class="flex-grow container mx-auto p-4 md:p-8">
        <!-- Onde o conteúdo específico da página será inserido -->
        {{ block "main" . }}{{ end }}
    </main>

    <!-- Chama o Partial de Rodapé -->
    {{ partial "footer.html" . }}
</body>

</html>